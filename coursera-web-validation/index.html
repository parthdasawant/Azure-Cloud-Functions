<html>
    <head>
        <link rel="stylesheet" href="./style.css" type="text/css">
        <!-- https://davidshimjs.github.io/qrcodejs/ -->
        <script src="qrcode.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="brand-logo"></div>
            <div class="brand-title">Validation</div>
            <div class="inputs">
              <label>E-Mail</label>
              <input type="email" placeholder="example@test.com" id="email"/>
              <button type="submit" onclick="makeCode('aa')">Generate QRCode</button>
              <br>
              <div id="qrcode" class="qrcode"></div>
              <br>
              <div id="message"></div>
            </div>
        </div>
        
        <script type="text/javascript">
            function makeCode() {
                var email = document.getElementById("email").value
                var url = "https://courserafunctionapp07.azurewebsites.net/api/function-validation?code=-wjZc404BKumMdymJrhKJ370AHLDtwkxOuIZUTkjcZzHAzFuQgM7rA=="
                var code =  url+"&email="+email
                document.getElementById("qrcode").innerHTML = "";
                var qrcode = new QRCode(document.getElementById("qrcode"), {
                    text:code,
                    width: 150,
                    height: 150,
                    colorDark : "#000000",
                    colorLight : "#ffffff",
                    correctLevel : QRCode.CorrectLevel.H
                });
                document.getElementById("message").innerHTML = "<a href='"+code+"'>Click Here</a>"
            }
            
        </script>
    </body>
</html>